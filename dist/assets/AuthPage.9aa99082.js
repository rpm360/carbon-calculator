import{u as R,r}from"./vendor.4d37f081.js";import{u as D}from"./index.7d4bf778.js";import{g as f,a as E}from"./cityData.4d64eb23.js";import{j as e,a as t}from"./charts.f21c5eb0.js";const Y=()=>{const v=R(),{setUserData:y,activities:b,totalEmissions:N}=D(),[c,x]=r.exports.useState(""),[s,m]=r.exports.useState(""),[p,l]=r.exports.useState([]),[C,n]=r.exports.useState(!1),[o,g]=r.exports.useState(""),[d,S]=r.exports.useState(!1),[w,F]=r.exports.useState(!1),u=r.exports.useRef(null),h=r.exports.useRef(null);r.exports.useEffect(()=>{if(s.length>=2){const i=f(s);l(i),n(i.length>0)}else l([]),n(!1)},[s]);const k=i=>{m(i);const a=E(i);a.country&&g(a.country),n(!1)};r.exports.useEffect(()=>{const i=a=>{u.current&&!u.current.contains(a.target)&&h.current&&!h.current.contains(a.target)&&n(!1)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]);const A=i=>{if(i.preventDefault(),!c){alert("Please enter your email address to continue.");return}S(!0),setTimeout(()=>{y({email:c,city:s,country:o}),v.push("/report")},1500)};return e("div",{className:"auth-container",children:t("div",{className:"auth-card",children:[t("div",{className:"auth-header",children:[e("h2",{children:"Your Report is Ready!"}),t("div",{className:"progress-indicator",children:[e("div",{className:"progress-bar"}),e("p",{children:"95% Complete"})]})]}),e("div",{className:"report-preview",children:t("div",{className:"preview-card",children:[e("h3",{children:"Your Carbon Footprint"}),t("div",{className:"preview-value",children:[N.toFixed(2)," kg CO2e"]}),t("p",{children:["Based on ",b.length," activities"]}),e("div",{className:"preview-graphic",children:e("div",{className:"preview-icon",children:"\u{1F4CA}"})})]})}),t("div",{className:"benefits-section",children:[e("h3",{children:"Unlock Your Full Report"}),t("ul",{className:"benefits-list",children:[t("li",{children:[e("div",{className:"benefit-icon",children:"\u{1F50D}"}),t("div",{className:"benefit-text",children:[e("strong",{children:"Detailed Analysis"}),e("p",{children:"See the breakdown of your carbon footprint by activity"})]})]}),t("li",{children:[e("div",{className:"benefit-icon",children:"\u{1F3D9}\uFE0F"}),t("div",{className:"benefit-text",children:[e("strong",{children:"Local Comparison"}),e("p",{children:"Compare your impact with others in your city"})]})]}),t("li",{children:[e("div",{className:"benefit-icon",children:"\u{1F4A1}"}),t("div",{className:"benefit-text",children:[e("strong",{children:"Personalized Tips"}),e("p",{children:"Get AI-powered recommendations to reduce your footprint"})]})]}),t("li",{children:[e("div",{className:"benefit-icon",children:"\u{1F4C8}"}),t("div",{className:"benefit-text",children:[e("strong",{children:"Progress Tracking"}),e("p",{children:"Monitor your carbon reduction journey over time"})]})]})]})]}),t("form",{onSubmit:A,className:"auth-form",children:[t("div",{className:"form-group",children:[e("label",{htmlFor:"email",children:"Email Address"}),e("input",{type:"email",id:"email",value:c,onChange:i=>x(i.target.value),required:!0,placeholder:"your@email.com"})]}),t("div",{className:"form-group",children:[e("label",{htmlFor:"city",children:"City (for better comparisons)"}),t("div",{className:"autocomplete-container",children:[e("input",{type:"text",id:"city",ref:h,value:s,onChange:i=>m(i.target.value),onFocus:()=>{s.length>=2&&(l(f(s)),n(!0))},placeholder:"e.g., New York",autoComplete:"off"}),C&&p.length>0&&e("div",{className:"suggestions-container",ref:u,children:p.map((i,a)=>e("div",{className:"suggestion-item",onClick:()=>k(i),children:i},a))})]})]}),t("div",{className:"form-group",children:[e("label",{htmlFor:"country",children:"Country"}),e("input",{type:"text",id:"country",value:o,onChange:i=>g(i.target.value),placeholder:"e.g., United States",className:s&&o?"auto-filled":""}),s&&o&&e("div",{className:"auto-filled-badge",children:"Auto-filled"})]}),t("div",{className:"form-checkbox",children:[e("input",{type:"checkbox",id:"updates",checked:w,onChange:i=>F(i.target.checked)}),e("label",{htmlFor:"updates",children:"Send me tips and updates on reducing my carbon footprint"})]}),e("button",{type:"submit",className:`view-report-btn ${d?"loading":""}`,disabled:d,children:d?"Generating Report...":"View My Full Report"})]}),e("div",{className:"privacy-note",children:t("p",{children:[e("strong",{children:"Privacy Commitment:"})," We respect your privacy. Your data will only be used to generate your carbon report and will never be shared with third parties."]})})]})})};export{Y as default};
//# sourceMappingURL=AuthPage.9aa99082.js.map
